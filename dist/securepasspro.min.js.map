{"version":3,"file":"securepasspro.min.js","sources":["../src/securepasspro.js"],"sourcesContent":["/**\n * SecurePass Pro JavaScript SDK\n * Simple, secure password generation and API integration\n */\n\nclass SecurePassSDK {\n  constructor(apiKey, options = {}) {\n    this.apiKey = apiKey;\n    // Use actual deployed URL or allow custom baseURL\n    this.baseURL = options.baseURL || (typeof window !== 'undefined' \n      ? `${window.location.origin}/api` \n      : 'https://securepasspro.co/api');\n    this.timeout = options.timeout || 10000;\n\n    // Security: Validate API key format (should start with spro_ for enterprise)\n    if (!this.apiKey || typeof this.apiKey !== 'string' || this.apiKey.length < 10) {\n      throw new Error('Invalid API key provided');\n    }\n  }\n\n  /**\n   * Generate a secure password\n   * @param {Object} options - Password generation options\n   * @returns {Promise<Object>} Generated password data\n   */\n  async generatePassword(options = {}) {\n    try {\n      const length = Math.min(Math.max(options.length || 16, 8), 64); // Secure limits\n      const response = await this._makeRequest('/password', {\n        method: 'POST',\n        body: JSON.stringify({\n          length: length,\n          includeUppercase: options.includeUppercase !== false,\n          includeLowercase: options.includeLowercase !== false,\n          includeNumbers: options.includeNumbers !== false,\n          includeSymbols: options.includeSymbols !== false\n        })\n      });\n\n      return response;\n    } catch (error) {\n      throw new Error(`Password generation failed: ${error.message}`);\n    }\n  }\n\n  /**\n   * Generate multiple passwords (bulk)\n   * @param {number} count - Number of passwords to generate\n   * @param {Object} options - Password generation options\n   * @returns {Promise<Object>} Bulk password data\n   */\n  async generateBulkPasswords(count, options = {}) {\n    // Security: Limit bulk generation\n    const maxCount = Math.min(count, 1000);\n    const length = Math.min(Math.max(options.length || 16, 8), 64);\n\n    try {\n      const response = await this._makeRequest(`/generate-bulk?count=${maxCount}&length=${length}`, {\n        method: 'POST'\n      });\n\n      return response;\n    } catch (error) {\n      throw new Error(`Bulk password generation failed: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get team information\n   * @param {string} teamId - Team ID\n   * @returns {Promise<Object>} Team data\n   */\n  async getTeamInfo(teamId) {\n    try {\n      const response = await this._makeRequest(`/team?teamId=${teamId}`, {\n        method: 'GET'\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to get team info: ${error.message}`);\n    }\n  }\n\n  /**\n   * Add team member\n   * @param {string} teamId - Team ID\n   * @param {string} memberEmail - Member email\n   * @param {string} role - Member role (admin, member)\n   * @returns {Promise<Object>} Operation result\n   */\n  async addTeamMember(teamId, memberEmail, role = 'member') {\n    try {\n      const response = await this._makeRequest('/team', {\n        method: 'POST',\n        body: JSON.stringify({\n          action: 'add_member',\n          teamId,\n          memberEmail,\n          role\n        })\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to add team member: ${error.message}`);\n    }\n  }\n\n  /**\n   * Remove team member\n   * @param {string} teamId - Team ID\n   * @param {string} memberEmail - Member email\n   * @returns {Promise<Object>} Operation result\n   */\n  async removeTeamMember(teamId, memberEmail) {\n    try {\n      const response = await this._makeRequest('/team', {\n        method: 'POST',\n        body: JSON.stringify({\n          action: 'remove_member',\n          teamId,\n          memberEmail\n        })\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to remove team member: ${error.message}`);\n    }\n  }\n\n  /**\n   * Update team member role\n   * @param {string} teamId - Team ID\n   * @param {string} memberEmail - Member email\n   * @param {string} role - New role\n   * @returns {Promise<Object>} Operation result\n   */\n  async updateTeamMemberRole(teamId, memberEmail, role) {\n    try {\n      const response = await this._makeRequest('/team', {\n        method: 'POST',\n        body: JSON.stringify({\n          action: 'update_role',\n          teamId,\n          memberEmail,\n          role\n        })\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to update team member role: ${error.message}`);\n    }\n  }\n\n\n  /**\n   * Test API connection\n   * @returns {Promise<Object>} Connection status\n   */\n  async testConnection() {\n    try {\n      const response = await this._makeRequest('/test');\n      return { success: true, message: 'API connection successful', data: response };\n    } catch (error) {\n      return { success: false, message: error.message };\n    }\n  }\n\n  /**\n   * Get user usage statistics\n   * @returns {Promise<Object>} Usage data\n   */\n  async getUsage() {\n    try {\n      const response = await this._makeRequest('/user', {\n        method: 'GET'\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to get usage data: ${error.message}`);\n    }\n  }\n\n  /**\n   * Secure HTTP request handler\n   * @private\n   */\n  async _makeRequest(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n\n    // Security: Input validation\n    if (!endpoint || typeof endpoint !== 'string') {\n      throw new Error('Invalid endpoint');\n    }\n\n    const config = {\n      method: options.method || 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${this.apiKey}`,\n        'User-Agent': 'SecurePass-SDK/1.0.0'\n      },\n      timeout: this.timeout,\n      ...options\n    };\n\n    // Security: Add request body if provided\n    if (options.body) {\n      config.body = options.body;\n    }\n\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), this.timeout);\n\n      const response = await fetch(url, {\n        ...config,\n        signal: controller.signal\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        throw new Error('Request timeout');\n      }\n      throw error;\n    }\n  }\n}\n\n// Default export for ES modules\nexport default SecurePassSDK;\n\n// CommonJS export for Node.js\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = SecurePassSDK;\n}"],"names":["SecurePassSDK","constructor","apiKey","options","this","baseURL","window","location","origin","timeout","length","Error","generatePassword","Math","min","max","_makeRequest","method","body","JSON","stringify","includeUppercase","includeLowercase","includeNumbers","includeSymbols","error","message","generateBulkPasswords","count","maxCount","getTeamInfo","teamId","addTeamMember","memberEmail","role","action","removeTeamMember","updateTeamMemberRole","testConnection","success","data","getUsage","endpoint","url","config","headers","Authorization","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","signal","clearTimeout","ok","errorData","json","catch","status","statusText","name","module","exports"],"mappings":"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"}