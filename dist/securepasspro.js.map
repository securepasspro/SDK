{"version":3,"file":"securepasspro.js","sources":["../src/securepasspro.js"],"sourcesContent":["/**\n * SecurePass Pro JavaScript SDK\n * Simple, secure password generation and API integration\n */\n\nclass SecurePassSDK {\n  constructor(apiKey, options = {}) {\n    this.apiKey = apiKey;\n    // Use actual deployed URL or allow custom baseURL\n    this.baseURL =\n      options.baseURL ||\n      (typeof window !== \"undefined\"\n        ? `${window.location.origin}/api`\n        : \"https://securepasspro.co/api\");\n    this.timeout = options.timeout || 10000;\n\n    // Security: Validate API key format (should start with spro_ for enterprise)\n    if (\n      !this.apiKey ||\n      typeof this.apiKey !== \"string\" ||\n      this.apiKey.length < 10\n    ) {\n      throw new Error(\"Invalid API key provided\");\n    }\n  }\n\n  /**\n   * Generate a secure password\n   * @param {Object} options - Password generation options\n   * @returns {Promise<Object>} Generated password data\n   */\n  async generatePassword(options = {}) {\n    try {\n      const length = Math.min(Math.max(options.length || 16, 8), 64); // Secure limits\n      const response = await this._makeRequest(\"/password\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          length: length,\n          includeUppercase: options.includeUppercase !== false,\n          includeLowercase: options.includeLowercase !== false,\n          includeNumbers: options.includeNumbers !== false,\n          includeSymbols: options.includeSymbols !== false,\n        }),\n      });\n\n      return response;\n    } catch (error) {\n      throw new Error(`Password generation failed: ${error.message}`);\n    }\n  }\n\n  /**\n   * Generate multiple passwords (bulk)\n   * @param {number} count - Number of passwords to generate\n   * @param {Object} options - Password generation options\n   * @returns {Promise<Object>} Bulk password data\n   */\n  async generateBulkPasswords(count, options = {}) {\n    // Security: Limit bulk generation\n    const maxCount = Math.min(count, 1000);\n    const length = Math.min(Math.max(options.length || 16, 8), 64);\n\n    try {\n      const response = await this._makeRequest(\n        `/generate-bulk?count=${maxCount}&length=${length}`,\n        {\n          method: \"POST\",\n        },\n      );\n\n      return response;\n    } catch (error) {\n      throw new Error(`Bulk password generation failed: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get team information\n   * @param {string} teamId - Team ID\n   * @returns {Promise<Object>} Team data\n   */\n  async getTeamInfo(teamId) {\n    try {\n      const response = await this._makeRequest(`/team?teamId=${teamId}`, {\n        method: \"GET\",\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to get team info: ${error.message}`);\n    }\n  }\n\n  /**\n   * Add team member\n   * @param {string} teamId - Team ID\n   * @param {string} memberEmail - Member email\n   * @param {string} role - Member role (admin, member)\n   * @returns {Promise<Object>} Operation result\n   */\n  async addTeamMember(teamId, memberEmail, role = \"member\") {\n    try {\n      const response = await this._makeRequest(\"/team\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          action: \"add_member\",\n          teamId,\n          memberEmail,\n          role,\n        }),\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to add team member: ${error.message}`);\n    }\n  }\n\n  /**\n   * Remove team member\n   * @param {string} teamId - Team ID\n   * @param {string} memberEmail - Member email\n   * @returns {Promise<Object>} Operation result\n   */\n  async removeTeamMember(teamId, memberEmail) {\n    try {\n      const response = await this._makeRequest(\"/team\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          action: \"remove_member\",\n          teamId,\n          memberEmail,\n        }),\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to remove team member: ${error.message}`);\n    }\n  }\n\n  /**\n   * Update team member role\n   * @param {string} teamId - Team ID\n   * @param {string} memberEmail - Member email\n   * @param {string} role - New role\n   * @returns {Promise<Object>} Operation result\n   */\n  async updateTeamMemberRole(teamId, memberEmail, role) {\n    try {\n      const response = await this._makeRequest(\"/team\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          action: \"update_role\",\n          teamId,\n          memberEmail,\n          role,\n        }),\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to update team member role: ${error.message}`);\n    }\n  }\n\n  /**\n   * Test API connection\n   * @returns {Promise<Object>} Connection status\n   */\n  async testConnection() {\n    try {\n      const response = await this._makeRequest(\"/test\");\n      return {\n        success: true,\n        message: \"API connection successful\",\n        data: response,\n      };\n    } catch (error) {\n      return { success: false, message: error.message };\n    }\n  }\n\n  /**\n   * Get user usage statistics\n   * @returns {Promise<Object>} Usage data\n   */\n  async getUsage() {\n    try {\n      const response = await this._makeRequest(\"/user\", {\n        method: \"GET\",\n      });\n      return response;\n    } catch (error) {\n      throw new Error(`Failed to get usage data: ${error.message}`);\n    }\n  }\n\n  /**\n   * Secure HTTP request handler\n   * @private\n   */\n  async _makeRequest(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n\n    // Security: Input validation\n    if (!endpoint || typeof endpoint !== \"string\") {\n      throw new Error(\"Invalid endpoint\");\n    }\n\n    const config = {\n      method: options.method || \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${this.apiKey}`,\n        \"User-Agent\": \"SecurePass-SDK/1.0.0\",\n      },\n      timeout: this.timeout,\n      ...options,\n    };\n\n    // Security: Add request body if provided\n    if (options.body) {\n      config.body = options.body;\n    }\n\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), this.timeout);\n\n      const response = await fetch(url, {\n        ...config,\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(\n          errorData.message ||\n            `HTTP ${response.status}: ${response.statusText}`,\n        );\n      }\n\n      return await response.json();\n    } catch (error) {\n      if (error.name === \"AbortError\") {\n        throw new Error(\"Request timeout\");\n      }\n      throw error;\n    }\n  }\n}\n\n// Default export for ES modules\nexport default SecurePassSDK;\n\n// CommonJS export for Node.js\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = SecurePassSDK;\n}\n"],"names":[],"mappings":"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"}